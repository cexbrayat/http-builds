/**
 * @license Angular v4.2.2-350f3a8b49
 * (c) 2010-2017 Google, Inc. https://angular.io/
 * License: MIT
 */
!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?factory(exports,require("@angular/http/client"),require("rxjs/Observable")):"function"==typeof define&&define.amd?define(["exports","@angular/http/client","rxjs/Observable"],factory):factory((global.ng=global.ng||{},global.ng.http=global.ng.http||{},global.ng.http.client=global.ng.http.client||{},global.ng.http.client.testing=global.ng.http.client.testing||{}),global.ng.http.client,global.Rx)}(this,function(exports,_angular_http_client,rxjs_Observable){"use strict";function _toArrayBufferBody(body){if("undefined"==typeof ArrayBuffer)throw new Error("ArrayBuffer responses are not supported on this platform.");if(body instanceof ArrayBuffer)return body;throw new Error("Automatic conversion to ArrayBuffer is not supported for response type.")}function _toBlob(body){if("undefined"==typeof Blob)throw new Error("Blob responses are not supported on this platform.");if(body instanceof Blob)return body;if(ArrayBuffer&&body instanceof ArrayBuffer)return new Blob([body]);throw new Error("Automatic conversion to Blob is not supported for response type.")}function _toJsonBody(body,format){if(void 0===format&&(format="JSON"),"undefined"!=typeof ArrayBuffer&&body instanceof ArrayBuffer)throw new Error("Automatic conversion to "+format+" is not supported for ArrayBuffers.");if("undefined"!=typeof Blob&&body instanceof Blob)throw new Error("Automatic conversion to "+format+" is not supported for Blobs.");if("string"==typeof body||"number"==typeof body||"object"==typeof body||Array.isArray(body))return body;throw new Error("Automatic conversion to "+format+" is not supported for response type.")}function _toTextBody(body){if("string"==typeof body)return body;if("undefined"!=typeof ArrayBuffer&&body instanceof ArrayBuffer)throw new Error("Automatic conversion to text is not supported for ArrayBuffers.");if("undefined"!=typeof Blob&&body instanceof Blob)throw new Error("Automatic conversion to text is not supported for Blobs.");return JSON.stringify(_toJsonBody(body,"text"))}function _maybeConvertBody(responseType,body){switch(responseType){case"arraybuffer":return null===body?null:_toArrayBufferBody(body);case"blob":return null===body?null:_toBlob(body);case"json":return null===body?"null":_toJsonBody(body);case"text":return null===body?null:_toTextBody(body);default:throw new Error("Unsupported responseType: "+responseType)}}/**
 * @license Angular v4.2.2-350f3a8b49
 * (c) 2010-2017 Google, Inc. https://angular.io/
 * License: MIT
 */
var HttpTestingController=function(){function HttpTestingController(){}return HttpTestingController.prototype.match=function(match){},HttpTestingController.prototype.expectOne=function(url){},HttpTestingController.prototype.expectOne=function(params){},HttpTestingController.prototype.expectOne=function(matchFn){},HttpTestingController.prototype.expectOne=function(match){},HttpTestingController.prototype.expectNone=function(url){},HttpTestingController.prototype.expectNone=function(params){},HttpTestingController.prototype.expectNone=function(matchFn){},HttpTestingController.prototype.expectNone=function(match){},HttpTestingController.prototype.verify=function(opts){},HttpTestingController}(),TestRequest=function(){function TestRequest(request,observer){this.request=request,this.observer=observer,this.cancelled=!1}return TestRequest.prototype.flush=function(body,opts){if(void 0===opts&&(opts={}),this.cancelled)throw new Error("Cannot flush a cancelled request.");var url=this.request.url,headers=new _angular_http_client.HttpHeaders(opts.headers);body=_maybeConvertBody(this.request.responseType,body);var statusText=opts.statusText,status=void 0!==opts.status?opts.status:200;if(void 0===opts.status&&(null===body?(status=204,statusText=statusText||"No Content"):statusText=statusText||"OK"),void 0===statusText)throw new Error("statusText is required when setting a custom status.");var res={body:body,headers:headers,status:status,statusText:statusText,url:url};status>=200&&status<300?(this.observer.next(new _angular_http_client.HttpResponse(res)),this.observer.complete()):this.observer.error(new _angular_http_client.HttpErrorResponse(res))},TestRequest.prototype.error=function(error,opts){if(void 0===opts&&(opts={}),this.cancelled)throw new Error("Cannot return an error for a cancelled request.");if(opts.status&&opts.status>=200&&opts.status<300)throw new Error("error() called with a successful status.");this.observer.error(new _angular_http_client.HttpErrorResponse({error:error,headers:new _angular_http_client.HttpHeaders(opts.headers),status:opts.status||0,statusText:opts.statusText||"",url:this.request.url}))},TestRequest.prototype.event=function(event){if(this.cancelled)throw new Error("Cannot send events to a cancelled request.");this.observer.next(event)},TestRequest}(),HttpClientTestingBackend=function(){function HttpClientTestingBackend(){this.open=[]}return HttpClientTestingBackend.prototype.handle=function(req){var _this=this;return new rxjs_Observable.Observable(function(observer){var testReq=new TestRequest(req,observer);return _this.open.push(testReq),observer.next({type:_angular_http_client.HttpEventType.Sent}),function(){testReq.cancelled=!0}})},HttpClientTestingBackend.prototype._match=function(match){return"string"==typeof match?this.open.filter(function(testReq){return testReq.request.url===match}):"function"==typeof match?this.open.filter(function(testReq){return match(testReq.request)}):this.open.filter(function(testReq){return!(match.method&&testReq.request.method!==match.method.toUpperCase()||match.url&&testReq.request.url!==match.url)})},HttpClientTestingBackend.prototype.match=function(match){var _this=this,results=this._match(match);return results.forEach(function(result){var index=_this.open.indexOf(result);index!==-1&&_this.open.splice(index,1)}),results},HttpClientTestingBackend.prototype.expectOne=function(match){var matches=this.match(match);if(matches.length>1)throw new Error("Expected one matching request, found "+matches.length+" requests.");if(0===matches.length)throw new Error("Expected one matching request, found none.");return matches[0]},HttpClientTestingBackend.prototype.expectNone=function(match){var matches=this.match(match);if(matches.length>0)throw new Error("Expected zero matching requests, found "+matches.length+".")},HttpClientTestingBackend.prototype.verify=function(opts){void 0===opts&&(opts={});var open=this.open;if(opts.ignoreCancelled&&(open=open.filter(function(testReq){return!testReq.cancelled})),open.length>0){var urls=open.map(function(testReq){return testReq.request.url.split("?")[0]}).join(", ");throw new Error("Expected no open requests, found "+open.length+": "+urls)}},HttpClientTestingBackend}();exports.HttpTestingController=HttpTestingController,exports.HttpClientTestingBackend=HttpClientTestingBackend,exports.TestRequest=TestRequest,Object.defineProperty(exports,"__esModule",{value:!0})});
//# sourceMappingURL=http-client-testing.umd.min.js.map
